(this["webpackJsonpreact-practice-app"]=this["webpackJsonpreact-practice-app"]||[]).push([[8],{76:function(e,t,n){"use strict";n.r(t);var r=n(41),a=n.n(r),c=n(42),o=n(6),u=n(0),s=n.n(u),i=n(43),l=n.n(i),p=function(e){return console.log("rendering list..."),s.a.createElement("ul",null,e.items.map((function(t,n){return s.a.createElement("li",{key:t.id},t.name,"| ",s.a.createElement("button",{className:"custom",onClick:function(){return e.onDelete(t.id)}},"REMOVE"))})))},f=n(13);t.default=function(e){var t=Object(u.useContext)(f.a).locale,n=Object(u.useRef)(),r=Object(u.useState)(!0),i=Object(o.a)(r,2),m=i[0],d=i[1],b=Object(u.useRef)(!1),v=Object(u.useReducer)((function(e,t){switch(t.type){case"ADD":return e.concat(t.payload).reverse();case"DELETE":return e.filter((function(e){return e.id!==t.payload}));default:return e}}),[]),h=Object(o.a)(v,2),E=h[0],y=h[1];Object(u.useEffect)((function(){return b.current=!0,console.log("init phase of TODO"),O(),function(){console.log("Destroy phase of Todo Component"),b.current=!1}}),[]);var O=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://react-practice-45bd7.firebaseio.com/todos.json");case 2:for(c in t=e.sent,n=t.data,r=[],n)r.push({id:c,name:n[c].name});b.current&&y({type:"ADD",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("ADD TO DO"),t.preventDefault(),!n.current.value){e.next=9;break}return e.next=5,l.a.post("https://react-practice-45bd7.firebaseio.com/todos.json",{name:n.current.value});case 5:r=e.sent,c=r.data,y({type:"ADD",payload:{id:c.name,name:n.current.value}}),n.current.value="";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("https://react-practice-45bd7.firebaseio.com/todos/".concat(t,".json"));case 3:y({type:"DELETE",payload:t}),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(u.Fragment,null,s.a.createElement("h2",null,"Currently Viewing: ",t.text),s.a.createElement("form",{onSubmit:D},s.a.createElement("div",null,s.a.createElement("input",{className:m?"":"invalid",type:"text",ref:n,onChange:function(e){e.target.value.trim()?d(!0):d(!1)}}),s.a.createElement("button",{className:"custom",type:"submit"},"Add"))),Object(u.useMemo)((function(){return s.a.createElement(p,{items:E,onDelete:j})}),[E]))}}}]);
//# sourceMappingURL=8.3d02afdf.chunk.js.map